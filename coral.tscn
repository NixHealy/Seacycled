[gd_scene load_steps=10 format=3 uid="uid://bw1af6olg1gwj"]

[ext_resource type="Script" path="res://coral.gd" id="1_0simb"]
[ext_resource type="Texture2D" uid="uid://c62d40prqc18g" path="res://img/coral.png" id="1_eke8b"]
[ext_resource type="Shader" path="res://coral.gdshader" id="2_qa8xe"]
[ext_resource type="FontFile" uid="uid://ccspj8bt13hlf" path="res://font/OpenDyslexic-Regular.otf" id="4_ygijg"]
[ext_resource type="AudioStream" uid="uid://bwn7sohwtesxm" path="res://sound/coral_damage.wav" id="5_fxhn3"]
[ext_resource type="Texture2D" uid="uid://bmunw4x6e3t1a" path="res://img/heal_popup.png" id="6_bcs3v"]
[ext_resource type="Texture2D" uid="uid://ck0vumet7xwfo" path="res://img/health_bubble.png" id="7_q7s6s"]
[ext_resource type="Texture2D" uid="uid://dgs3x01e0wd80" path="res://img/health_progress.png" id="8_fqjyb"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cetts"]
shader = ExtResource("2_qa8xe")
shader_parameter/desaturate_strength = 1.0
shader_parameter/pollution_strength = 0.0

[node name="StaticBody2D" type="StaticBody2D"]
collision_layer = 4
collision_mask = 33
script = ExtResource("1_0simb")

[node name="Sprite2D" type="Sprite2D" parent="."]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_cetts")
position = Vector2(1.5, -93)
texture = ExtResource("1_eke8b")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
visible = false
scale = Vector2(0.745, 0.745)
polygon = PackedVector2Array(-160, -57, -379, 146, -450, 323, -26, 405, 306, 428, 329, 347, 253, 196, 231, 123, 243, 50, 238, -31, 203, -58, 241, -109, 256, -225, 266, -321, 200, -434, 52, -497, -102, -491, -160, -521, -287, -518, -335, -461, -291, -351, -242, -287, -242, -199)

[node name="HitArea" type="Area2D" parent="."]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 255

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="HitArea"]
visible = false
scale = Vector2(0.9, 0.9)
polygon = PackedVector2Array(-160, -57, -379, 146, -450, 323, -26, 405, 306, 428, 329, 347, 253, 196, 231, 123, 243, 50, 238, -31, 203, -58, 241, -109, 256, -225, 266, -321, 200, -434, 52, -497, -102, -491, -160, -521, -287, -518, -335, -461, -291, -351, -242, -287, -242, -199)

[node name="OutsideArea" type="Area2D" parent="."]
unique_name_in_owner = true
visible = false
position = Vector2(1.5, 24)
collision_layer = 128
collision_mask = 34

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="OutsideArea"]
position = Vector2(-1.5, -24)
polygon = PackedVector2Array(-209, -65, -402, 132, -478, 335, -43, 428, 316, 448, 348, 349, 274, 188, 250, 128, 258, 51, 257, -28, 220, -54, 253, -103, 271, -222, 280, -321, 214, -445, 55, -510, -100, -504, -166, -539, -296, -534, -350, -471, -312, -349, -267, -287, -273, -193)

[node name="CoralHealRect" type="ColorRect" parent="."]
unique_name_in_owner = true
visible = false
offset_left = -241.0
offset_top = -206.0
offset_right = 244.0
offset_bottom = -32.0
color = Color(0.196078, 0.196078, 0.196078, 0.384314)

[node name="HealLabel" type="Label" parent="CoralHealRect"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("4_ygijg")
theme_override_font_sizes/font_size = 30
text = "Come over here, press SPACE
to heal me!
[Cost: 5 Chumks = 5 HP]"
horizontal_alignment = 1
vertical_alignment = 1

[node name="DamageSound" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = ExtResource("5_fxhn3")
volume_db = 1.0

[node name="Popup" type="Sprite2D" parent="."]
unique_name_in_owner = true
visible = false
z_index = 20
position = Vector2(-6, -118)
texture = ExtResource("6_bcs3v")

[node name="HealthBar" type="TextureProgressBar" parent="."]
unique_name_in_owner = true
z_index = 10
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -274.0
offset_top = -39.0
offset_right = -38.0
offset_bottom = -5.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(2.32831, 2.32831)
value = 100.0
texture_over = ExtResource("7_q7s6s")
texture_progress = ExtResource("8_fqjyb")
texture_progress_offset = Vector2(-2.12, 0)

[connection signal="body_entered" from="HitArea" to="." method="_on_hit_area_body_entered"]
